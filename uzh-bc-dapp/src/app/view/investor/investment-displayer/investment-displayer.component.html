<div class="w-100 border p-3 mb-2" [class.payedBack]="payedBackRate == 100">
  <div class="container">
    <div class="row mb-2">
      <div class="col-6 col-sm-4">
        <div class="text-right w-100 inv-label"><span>Yield</span></div>
        <div class="text-right w-100 inv-value c-primary">{{(investment.interestRate / 100)| number: '.2-2'}}%</div>
      </div>
      <div class="col-6 col-sm-4">
        <div class="text-right w-100 inv-label"><span>Total Amount</span></div>
        <div class="text-right w-100 inv-value">
          <span class="eth-span">ETH</span>
          <fa-icon [icon]="['fab', 'ethereum']" class="eth-icon"></fa-icon><span [ngbTooltip]="(investment.totalAmountLended / 1e18).toString() + ' ETH'">{{(investment.totalAmountLended / 1e18 | number: '.1-3')}}</span></div>
      </div>
      <div class="col-6 col-sm-4">
        <div class="text-right w-100 inv-label"><span>Duration (months)</span></div>
        <div class="text-right w-100 inv-value">{{investment.totalDurationMonths}}</div>
      </div>
    </div>
    <div class="row mb-2">
      <div class="col-6 col-sm-4">
        <div class="text-right w-100 inv-label"><span>Start Date</span></div>
        <div class="text-right w-100 inv-value">
          {{investment.startDate == 0 ? '-' :(investment.startDate * 1000)| date:'dd.MM.yyyy'}}
        </div>
      </div>
      <div class="col-6 col-sm-4">
        <div class="text-right w-100 inv-label"><span>Total Amount w. Interest</span></div>
        <div class="text-right w-100 inv-value">
          <span class="eth-span">ETH</span>
          <fa-icon [icon]="['fab', 'ethereum']" class="eth-icon"></fa-icon><span [ngbTooltip]="(investment.totalAmountLendedWithInterest / 1e18).toString() + ' ETH'">{{(investment.totalAmountLendedWithInterest / 1e18 | number: '.1-3')}}</span>
        </div>
      </div>
      <div class="col-6 col-sm-4">
        <div class="text-right w-100 inv-label"><span>Monthly payment</span></div>
        <div class="text-right w-100 inv-value">
          <span class="eth-span">ETH</span>
          <fa-icon [icon]="['fab', 'ethereum']" class="eth-icon"></fa-icon><span [ngbTooltip]="(investment.monthlyAmount / 1e18).toString() + ' ETH'">{{(investment.monthlyAmount / 1e18 | number: '.1-3')}}</span></div>
      </div>
    </div>
  </div>
  <div class="row mb-4">
    <div class="col-12">
      <div class="text-right w-100 inv-label mb-1"><span>Risk ({{risk | number: '.2-2'}}%)</span></div>
      <div class="progress-risk w-100">
        <div class="progress-risk-bar" [style]="'width: ' + risk + '%;'"></div>
      </div>
    </div>
  </div>
  <div class="row mb-4">
    <div class="col-12">
      <div class="text-right w-100 inv-label mb-1"><span>Payed Back ({{payedBackRate | number: '.2-2'}}%)</span></div>
      <div class="progress-payback w-100">
        <div class="progress-payback-bar" [style]="'width: ' + payedBackRate + '%;'"></div>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="isWithdrawPossible">
    <div class="col-12">
      <p>The borrower has not withdrawn the invested money within a month. You are entitled to withdraw your investment.</p>
      <button mat-flat-button color="primary" class="float-right" (click)="withdrawInvestment()" [disabled]="loading"><fa-icon *ngIf="loading" [icon]="['fas', 'spinner']" spin="true" class="mr-1"></fa-icon>Withdraw Invested Money</button>
    </div>
  </div>

</div>

